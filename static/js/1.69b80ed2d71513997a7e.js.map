{"version":3,"sources":["webpack:///src/base/ratingselect/ratingselect.vue","webpack:///./src/base/ratingselect/ratingselect.vue?d679","webpack:///./src/base/ratingselect/ratingselect.vue","webpack:///src/components/ControlBtn/ControlBtn.vue","webpack:///./src/components/ControlBtn/ControlBtn.vue?01dd","webpack:///./src/components/ControlBtn/ControlBtn.vue","webpack:///src/components/ShopCart/ShopCart.vue","webpack:///./src/components/ShopCart/ShopCart.vue?e5e4","webpack:///./src/components/ShopCart/ShopCart.vue","webpack:///src/components/Food/Food.vue","webpack:///./src/components/Food/Food.vue?95b9","webpack:///./src/components/Food/Food.vue","webpack:///src/components/TheGoods/TheGoods.vue","webpack:///./src/components/TheGoods/TheGoods.vue?1c5e","webpack:///./src/components/TheGoods/TheGoods.vue"],"names":["ratingselect","props","selectType","type","Number","default","onlyContent","Boolean","desc","Object","all","positive","negative","ratings","Array","computed","positives","this","filter","item","rateType","negatives","methods","select","$emit","toggleContent","ratingselect_ratingselect","render","_vm","_h","$createElement","_c","_self","staticClass","class","active","on","click","$event","_v","_s","length","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","ControlBtn","food","addCount","event","count","vue_esm","set","target","decrease","el","ControlBtn_ControlBtn","attrs","name","directives","rawName","value","expression","stopPropagation","preventDefault","components_ControlBtn_ControlBtn","ShopCart","selectFoods","price","deliveryPrice","minPrice","data","balls","show","dropBalls","fold","listShow","activated","$refs","logoWrapper","style","animationPlayState","totalPrice","forEach","totalCount","payDesc","afterEnter","listContent","refresh","empty","pay","window","alert","toogleList","addFood","element","drop","scaleSpring","_this","animation","$nextTick","i","ball","push","beforDrop","console","log","rect","getBoundingClientRect","x","left","y","innerHeight","top","display","webkitTransform","transform","inner","getElementsByClassName","dropping","done","offsetHeight","addEventListener","afterDrop","shift","watch","components","Scroll","ShopCart_ShopCart","ref","highlight","_l","index","key","before-enter","enter","after-enter","add","components_ShopCart_ShopCart","ShopCart_normalizeComponent","showFlag","shownRatings","rating","needShow","text","e","selectRating","hide","_this2","addFirst","filters","formatDate","val","util","Date","Split","Food_Food","src","image","sellCount","oldPrice","info","_e","toggle","username","avatar","width","height","_f","rateTime","components_Food_Food","Food_normalizeComponent","Food","TheGoods","seller","goods","listHeight","scrollY","selectedFood","created","clsArr","api","then","res","errno","_calcHeight","selectFood","ev","shopCart","selectMenu","_scrollToFood","foodListScroll","pos","oList","foodList","clientHeight","foodScroll","scrollToElement","_scrollToMenu","menuScroll","menuItem","currentIndex","height1","height2","foodArr","good","foods","TheGoods_TheGoods","menu","refInFor","current","listenScroll","probeType","scroll","index1","icon","description","TheGoods_Component","TheGoods_normalizeComponent"],"mappings":"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","file":"static/js/1.69b80ed2d71513997a7e.js","sourcesContent":["<template>\r\n  <div class=\"ratingselect\">\r\n    <div class=\"rating-type border-1px\">\r\n      <span class=\"block positive\"\r\n            :class=\"{'active': selectType===2}\"\r\n            @click=\"select(2)\"\r\n      >{{ desc.all }}<span class=\"count\">{{ ratings.length }}</span></span>\r\n      <span class=\"block positive\"\r\n            :class=\"{'active': selectType===0}\"\r\n            @click=\"select(0)\"\r\n      >{{ desc.positive }}<span class=\"count\">{{ positives.length }}</span></span>\r\n      <span class=\"block negative\"\r\n            :class=\"{'active': selectType===1}\"\r\n            @click=\"select(1)\"\r\n      >{{ desc.negative }}<span class=\"count\">{{ negatives.length }}</span></span>\r\n    </div>\r\n    <div class=\"toggleContent\"\r\n         @click=\"toggleContent\"\r\n         :class=\"{'on': onlyContent}\">\r\n      <span class=\"icon-check_circle\"></span>\r\n      <span class=\"text\">只看有内容的评论</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst POSITIVE = 0\r\nconst NEGATIVE = 1\r\nconst ALL = 2\r\n\r\nexport default {\r\n  props: {\r\n    selectType: {\r\n      type: Number,\r\n      default: ALL\r\n    },\r\n    onlyContent: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    desc: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          all: '全部',\r\n          positive: '满意',\r\n          negative: '不满意'\r\n        }\r\n      }\r\n    },\r\n    ratings: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    positives() {\r\n      return this.ratings.filter((item) => {\r\n        return item.rateType === POSITIVE\r\n      })\r\n    },\r\n    negatives() {\r\n      return this.ratings.filter((item) => {\r\n        return item.rateType === NEGATIVE\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    select(type) {\r\n      this.$emit('select', type)\r\n    },\r\n    toggleContent() {\r\n      this.$emit('toggle')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  @import \"../../common/stylus/mixin.styl\"\r\n\r\n  .ratingselect\r\n    .rating-type\r\n      padding: 18px 0\r\n      margin: 0 18px\r\n      border-1px(rgba(7, 17, 27, 0.1))\r\n      font-size: 0\r\n      .block\r\n        display: inline-block\r\n        padding: 8px 12px\r\n        margin-right: 8px\r\n        line-height: 16px\r\n        border-radius: 1px\r\n        font-size: 12px\r\n        color: rgb(77, 85, 93)\r\n        &.active\r\n          color: #fff\r\n        .count\r\n          margin-left: 2px\r\n          font-size: 8px\r\n        &.positive\r\n          background: rgba(0, 160, 220, 0.2)\r\n          &.active\r\n            background: rgb(0, 160, 220)\r\n        &.negative\r\n          background: rgba(77, 85, 93, 0.2)\r\n          &.active\r\n            background: rgb(77, 85, 93)\r\n    .toggleContent\r\n      padding: 12px 18px\r\n      line-height: 24px\r\n      border-bottom: 1px solid rgba(7, 17, 27, 0.1)\r\n      color: rgb(147, 153, 159)\r\n      font-size: 0\r\n      &.on\r\n        .icon-check_circle\r\n          color: #00c850\r\n      .icon-check_circle\r\n        display: inline-block\r\n        vertical-align: top\r\n        margin-right: 4px\r\n        font-size: 24px\r\n      .text\r\n        display: inline-block\r\n        vertical-align: top\r\n        font-size: 12px\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/ratingselect/ratingselect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ratingselect\"},[_c('div',{staticClass:\"rating-type border-1px\"},[_c('span',{staticClass:\"block positive\",class:{'active': _vm.selectType===2},on:{\"click\":function($event){_vm.select(2)}}},[_vm._v(_vm._s(_vm.desc.all)),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.ratings.length))])]),_vm._v(\" \"),_c('span',{staticClass:\"block positive\",class:{'active': _vm.selectType===0},on:{\"click\":function($event){_vm.select(0)}}},[_vm._v(_vm._s(_vm.desc.positive)),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.positives.length))])]),_vm._v(\" \"),_c('span',{staticClass:\"block negative\",class:{'active': _vm.selectType===1},on:{\"click\":function($event){_vm.select(1)}}},[_vm._v(_vm._s(_vm.desc.negative)),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.negatives.length))])])]),_vm._v(\" \"),_c('div',{staticClass:\"toggleContent\",class:{'on': _vm.onlyContent},on:{\"click\":_vm.toggleContent}},[_c('span',{staticClass:\"icon-check_circle\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"只看有内容的评论\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8dc1c684\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/ratingselect/ratingselect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8dc1c684\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ratingselect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ratingselect.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ratingselect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8dc1c684\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ratingselect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/ratingselect/ratingselect.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"control\">\r\n    <transition name=\"fade\">\r\n      <div class=\"decrease\" v-show=\"food.count > 0\" @click.stop.prevent=\"decrease\">\r\n        <span class=\"inner icon-remove_circle_outline\"></span>\r\n      </div>\r\n    </transition>\r\n    <div class=\"count\" v-show=\"food.count\">{{ food.count }}</div>\r\n    <div class=\"increase icon-add_circle\" @click.stop.prevent=\"addCount\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\n\r\nexport default {\r\n  props: {\r\n    food: {\r\n      type: Object\r\n    }\r\n  },\r\n  methods: {\r\n    addCount(event) {\r\n      // better-scroll，点击事件在手机模式触发一次，但在pc模式会触发两次，需添加\r\n      // if (!event._constructed) {\r\n      //   return\r\n      // }\r\n      if (!this.food.count) {\r\n        Vue.set(this.food, 'count', 1)\r\n      } else {\r\n        this.food.count++\r\n      }\r\n      this.$emit('add', event.target)\r\n    },\r\n    decrease(el) {\r\n      if (this.food.count) {\r\n        this.food.count--\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  .control\r\n    font-size 0\r\n    .decrease\r\n      display inline-block\r\n      padding 6px\r\n      opacity 1\r\n      .inner\r\n        display inline-block\r\n        line-height 24px\r\n        height 24px\r\n        font-size 24px\r\n        color rgb(0, 160, 220)\r\n        transition all .4s linear\r\n      &.fade-enter-active, &.fade-leave-active\r\n        transition all .4s linear\r\n      &.fade-enter, &.fade-leave-to\r\n        opacity 0\r\n        transform translate3d(24px, 0, 0)\r\n        .inner\r\n          transform rotate(180deg)\r\n    .count\r\n      display inline-block\r\n      vertical-align top\r\n      padding 6px\r\n      width 12px\r\n      line-height 24px\r\n      text-align center\r\n      font-size 10px\r\n      color rgb(147, 153, 159)\r\n    .increase\r\n      display inline-block\r\n      padding 6px\r\n      line-height 24px\r\n      font-size 24px\r\n      color rgb(0, 160, 220)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ControlBtn/ControlBtn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"control\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.count > 0),expression:\"food.count > 0\"}],staticClass:\"decrease\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.decrease($event)}}},[_c('span',{staticClass:\"inner icon-remove_circle_outline\"})])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.count),expression:\"food.count\"}],staticClass:\"count\"},[_vm._v(_vm._s(_vm.food.count))]),_vm._v(\" \"),_c('div',{staticClass:\"increase icon-add_circle\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addCount($event)}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9b9484d2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ControlBtn/ControlBtn.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9b9484d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ControlBtn.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ControlBtn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ControlBtn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9b9484d2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ControlBtn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9b9484d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ControlBtn/ControlBtn.vue\n// module id = null\n// module chunks = ","<template>\r\n<div>\r\n  <div class=\"shopcart\">\r\n    <div class=\"content\">\r\n      <div class=\"content-left\" @click=\"toogleList\">\r\n        <transition name=\"cart\">\r\n          <div class=\"logo-wrapper scaleSpring\" ref=\"logoWrapper\">\r\n            <div class=\"logo\" :class=\"{'highlight': totalCount > 0}\">\r\n              <i class=\"icon-shopping_cart\" :class=\"{'highlight': totalCount > 0}\"></i>\r\n            </div>\r\n            <div class=\"num\" v-show=\"totalCount > 0\">{{ totalCount }}</div>\r\n          </div>\r\n        </transition>\r\n        <div class=\"price\" :class=\"{'highlight': totalPrice > 0}\">￥{{ totalPrice }}</div>\r\n        <div class=\"desc\">另需配送费￥{{ deliveryPrice }}元</div>\r\n      </div>\r\n      <div class=\"content-right\" @click=\"pay\">\r\n        <div class=\"pay\" :class=\"[totalPrice >= minPrice ? 'enough' : 'not-enough']\">\r\n          {{ payDesc }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"ball-container\">\r\n      <div v-for=\"(ball, index) in balls\" :key=\"index\">\r\n        <transition name=\"drop\"\r\n                    @before-enter=\"beforDrop\"\r\n                    @enter=\"dropping\"\r\n                    @after-enter=\"afterDrop\"\r\n        >\r\n          <div class=\"ball\" v-show=\"ball.show\">\r\n            <div class=\"inner inner-hook\"></div>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n    </div>\r\n    <transition name=\"fold\" @after-enter=\"afterEnter\">\r\n      <div class=\"shopcart-list\" v-show=\"listShow\">\r\n        <div class=\"list-header\">\r\n          <h1 class=\"title\">购物车</h1>\r\n          <span class=\"empty\" @click=\"empty\">清空</span>\r\n        </div>\r\n        <scroll class=\"list-content\" :data=\"selectFoods\" ref=\"listContent\">\r\n          <ul>\r\n            <li class=\"food\"\r\n                v-for=\"(food, index) in selectFoods\" :key=\"index\"\r\n            >\r\n              <span class=\"name\">{{ food.name }}</span>\r\n              <div class=\"price\">\r\n                <span>￥{{food.price*food.count}}</span>\r\n              </div>\r\n              <div class=\"cartcontrol-wrapper\">\r\n                <control-btn :food=\"food\" @add=\"addFood\"></control-btn>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </scroll>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n  <div>\r\n    <transition name=\"fade\">\r\n      <div class=\"list-mask\" v-show=\"listShow\" @click=\"listShow=!listShow\"></div>\r\n    </transition>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ControlBtn from 'components/ControlBtn/ControlBtn'\r\nimport Scroll from 'base/Scroll/Scroll'\r\n\r\nexport default {\r\n  props: {\r\n    selectFoods: {\r\n      type: Array,\r\n      default() {\r\n        return [\r\n          {\r\n            price: 0,\r\n            count: 0\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    deliveryPrice: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    minPrice: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      balls: [\r\n        {\r\n          show: false\r\n        },\r\n        {\r\n          show: false\r\n        },\r\n        {\r\n          show: false\r\n        },\r\n        {\r\n          show: false\r\n        }\r\n      ],\r\n      dropBalls: [],\r\n      fold: true,\r\n      listShow: false\r\n    }\r\n  },\r\n  activated() {\r\n    this.$refs.logoWrapper.style.animationPlayState = ''\r\n  },\r\n  computed: {\r\n    totalPrice() {\r\n      let price = 0\r\n      this.selectFoods.forEach(item => {\r\n        price += item.count * item.price\r\n      })\r\n      return price\r\n    },\r\n    totalCount() {\r\n      let count = 0\r\n      this.selectFoods.forEach(item => {\r\n        count += item.count\r\n      })\r\n      return count\r\n    },\r\n    payDesc() {\r\n      return this.totalPrice >= 20\r\n        ? '去结算'\r\n        : this.totalPrice > 0\r\n          ? `还差￥${this.minPrice - this.totalPrice}元起送`\r\n          : `￥${this.minPrice}元起送`\r\n    }\r\n  },\r\n  methods: {\r\n    afterEnter() {\r\n      this.$refs.listContent.refresh()\r\n    },\r\n    empty() {\r\n      this.selectFoods.forEach(food => {\r\n        food.count = 0\r\n      })\r\n    },\r\n    pay() {\r\n      if (this.totalPrice >= this.minPrice) {\r\n        window.alert('支付' + this.totalPrice + '元')\r\n      }\r\n    },\r\n    toogleList() {\r\n      if (!this.totalCount) {\r\n        return\r\n      }\r\n      this.fold = !this.fold\r\n    },\r\n    addFood(element) {\r\n      this.drop(element)\r\n      this.scaleSpring()\r\n    },\r\n    // https://stackoverflow.com/questions/6268508/restart-animation-in-css3-any-better-way-than-removing-the-element\r\n    // 重新执行动画，将其 animation 设为 'none'， timeout 或 nextTick 后设为 null， 则其 animation 属性会重新继承 css 设置\r\n    scaleSpring() {\r\n      this.$refs.logoWrapper.style.animation = 'none'\r\n      /* eslint-disable */\r\n      // this.$refs.logoWrapper.offsetHeight   // trigger reflow\r\n      // setTimeout(() => {\r\n        //   this.$refs.logoWrapper.style.animation = null\r\n      // }, 20)\r\n      this.$nextTick(() => {\r\n        this.$refs.logoWrapper.style.animation = null\r\n        this.$refs.logoWrapper.style.animationPlayState = 'running'\r\n      })\r\n    },\r\n    drop(el) {\r\n      for (let i = 0; i < this.balls.length; i++) {\r\n        let ball = this.balls[i]\r\n        if (!ball.show) {\r\n          ball.show = true\r\n          ball.el = el\r\n          this.dropBalls.push(ball)\r\n          return\r\n        }\r\n      }\r\n    },\r\n    beforDrop(el) {\r\n      console.log(el)\r\n      let count = this.balls.length\r\n      while (count--) {\r\n        let ball = this.balls[count]\r\n        if (ball.show) {\r\n          let rect = ball.el.getBoundingClientRect()\r\n          console.log(rect)\r\n          let x = rect.left - 32\r\n          let y = -(window.innerHeight - rect.top - 22)\r\n          el.style.display = ''\r\n          el.style.webkitTransform = `translate3d(0,${y}px,0)`\r\n          el.style.transform = `translate3d(0,${y}px,0)`\r\n          let inner = el.getElementsByClassName('inner-hook')[0]\r\n          inner.style.webkitTransform = `translate3d(${x}px,0,0)`\r\n          inner.style.transform = `translate3d(${x}px,0,0)`\r\n        }\r\n      }\r\n    },\r\n    dropping(el, done) {\r\n      console.log(el)\r\n      /* eslint-disable */\r\n      let rf = el.offsetHeight\r\n      this.$nextTick(() => {\r\n        el.style.webkitTransform = 'translate3d(0,0,0)'\r\n        el.style.transform = 'translate3d(0,0,0)'\r\n        let inner = el.getElementsByClassName('inner-hook')[0]\r\n        inner.style.webkitTransform = 'translate3d(0,0,0)'\r\n        inner.style.transform = 'translate3d(0,0,0)'\r\n        el.addEventListener('transitionend', done)\r\n      })\r\n    },\r\n    afterDrop(el) {\r\n      let ball = this.dropBalls.shift()\r\n      if (ball) {\r\n        ball.show = false\r\n        el.style.display = 'none'\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    totalCount() {\r\n      if (!this.totalCount) {\r\n        this.fold = true\r\n      }\r\n    },\r\n    fold() {\r\n      this.listShow = !this.fold\r\n    }\r\n  },\r\n  components: {\r\n    ControlBtn,\r\n    Scroll\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '~common/stylus/mixin.styl';\r\n\r\n.shopcart {\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 50;\r\n  width: 100%;\r\n  height: 48px;\r\n\r\n  .content {\r\n    display: flex;\r\n    background: #141d27;\r\n    font-size: 0;\r\n    color: rgba(255, 255, 255, 0.4);\r\n\r\n    .content-left {\r\n      flex: 1;\r\n      font-size: 0;\r\n\r\n      .logo-wrapper {\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        position: relative;\r\n        top: -10px;\r\n        margin: 0 12px;\r\n        padding: 6px;\r\n        width: 56px;\r\n        height: 56px;\r\n        box-sizing: border-box;\r\n        border-radius: 50%;\r\n        background: #141d27;\r\n\r\n        .logo {\r\n          width: 100%;\r\n          height: 100%;\r\n          border-radius: 50%;\r\n          text-align: center;\r\n          background: #2b343c;\r\n\r\n          &.highlight {\r\n            background: rgb(0, 160, 220);\r\n          }\r\n\r\n          .icon-shopping_cart {\r\n            line-height: 44px;\r\n            font-size: 24px;\r\n            color: #80858a;\r\n\r\n            &.highlight {\r\n              color: #fff;\r\n            }\r\n          }\r\n        }\r\n\r\n        .num {\r\n          position: absolute;\r\n          top: 0;\r\n          right: 0;\r\n          width: 24px;\r\n          height: 16px;\r\n          line-height: 16px;\r\n          text-align: center;\r\n          border-radius: 16px;\r\n          font-size: 9px;\r\n          font-weight: 700;\r\n          color: #fff;\r\n          background: rgb(240, 20, 20);\r\n          box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.4);\r\n        }\r\n      }\r\n\r\n      .price {\r\n        display: inline-block;\r\n        box-sizing: border-box;\r\n        margin-top: 12px;\r\n        padding-right: 12px;\r\n        font-size: 16px;\r\n        font-weight: 700;\r\n        line-height: 24px;\r\n        border-right: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n        &.highlight {\r\n          color: #fff;\r\n        }\r\n      }\r\n\r\n      .desc {\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        margin: 12px 0 0 12px;\r\n        line-height: 24px;\r\n        font-size: 10px;\r\n      }\r\n    }\r\n\r\n    .content-right {\r\n      flex: 0 0 105px;\r\n      width: 105px;\r\n\r\n      .pay {\r\n        height: 48px;\r\n        line-height: 48px;\r\n        text-align: center;\r\n        font-size: 12px;\r\n        font-weight: 700;\r\n\r\n        &.not-enough {\r\n          background: #2b333b;\r\n        }\r\n\r\n        &.enough {\r\n          background: #00b43c;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .ball-container {\r\n    .ball {\r\n      position: fixed;\r\n      left: 32px;\r\n      bottom: 22px;\r\n      z-index: 200;\r\n      transition: all 0.4s cubic-bezier(0.49, -0.29, 0.75, 0.41);\r\n\r\n      .inner {\r\n        width: 16px;\r\n        height: 16px;\r\n        border-radius: 50%;\r\n        background: rgb(0, 160, 220);\r\n        transition: all 0.4s linear;\r\n      }\r\n    }\r\n  }\r\n\r\n  .shopcart-list {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    z-index: -1;\r\n    width: 100%;\r\n    transform: translate3d(0, -100%, 0);\r\n\r\n    &.fold-enter-active, &.fold-leave-active {\r\n      transition: all 0.5s;\r\n    }\r\n\r\n    &.fold-enter, &.fold-leave-active {\r\n      transform: translate3d(0, 0, 0);\r\n    }\r\n\r\n    .list-header {\r\n      height: 40px;\r\n      line-height: 40px;\r\n      padding: 0 18px;\r\n      background: #f3f5f7;\r\n      border-bottom: 1px solid rgba(7, 17, 27, 0.1);\r\n\r\n      .title {\r\n        float: left;\r\n        font-size: 14px;\r\n        color: rgb(7, 17, 27);\r\n      }\r\n\r\n      .empty {\r\n        float: right;\r\n        font-size: 12px;\r\n        color: rgb(0, 160, 220);\r\n      }\r\n    }\r\n\r\n    .list-content {\r\n      padding: 0 18px;\r\n      max-height: 217px;\r\n      overflow: hidden;\r\n      background: #fff;\r\n\r\n      .food {\r\n        position: relative;\r\n        padding: 12px 0;\r\n        box-sizing: border-box;\r\n        border-1px(rgba(7, 17, 27, 0.1));\r\n\r\n        .name {\r\n          line-height: 24px;\r\n          font-size: 14px;\r\n          color: rgb(7, 17, 27);\r\n        }\r\n\r\n        .price {\r\n          position: absolute;\r\n          right: 90px;\r\n          bottom: 12px;\r\n          line-height: 24px;\r\n          font-size: 14px;\r\n          font-weight: 700;\r\n          color: rgb(240, 20, 20);\r\n        }\r\n\r\n        .cartcontrol-wrapper {\r\n          position: absolute;\r\n          right: 0;\r\n          bottom: 6px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.list-mask {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 40;\r\n  backdrop-filter: blur(10px);\r\n  opacity: 1;\r\n  background: rgba(7, 17, 27, 0.6);\r\n\r\n  &.fade-enter-active, &.fade-leave-active {\r\n    transition: all 0.5s;\r\n  }\r\n\r\n  &.fade-enter, &.fade-leave-active {\r\n    opacity: 0;\r\n    background: rgba(7, 17, 27, 0);\r\n  }\r\n}\r\n\r\n.scaleSpring {\r\n  -webkit-animation: scale-spring 0.4s;\r\n  animation: scale-spring 0.4s;\r\n  animation-delay: 0.4s;\r\n  -webkit-animation-delay: 0.4s;\r\n  animation-play-state: paused;\r\n  -webkit-animation-play-state: paused;\r\n}\r\n\r\n@keyframes scale-spring {\r\n  0% {\r\n    -webkit-transform: scale(0.7);\r\n  }\r\n\r\n  40% {\r\n    -webkit-transform: scale(1.3);\r\n  }\r\n\r\n  80% {\r\n    -webkit-transform: scale(0.9);\r\n  }\r\n\r\n  100% {\r\n    -webkit-transform: scale(1);\r\n  }\r\n}\r\n\r\n@keyframes scale-spring {\r\n  0% {\r\n    transform: scale(0.7);\r\n  }\r\n\r\n  40% {\r\n    transform: scale(1.3);\r\n  }\r\n\r\n  80% {\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ShopCart/ShopCart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"shopcart\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"content-left\",on:{\"click\":_vm.toogleList}},[_c('transition',{attrs:{\"name\":\"cart\"}},[_c('div',{ref:\"logoWrapper\",staticClass:\"logo-wrapper scaleSpring\"},[_c('div',{staticClass:\"logo\",class:{'highlight': _vm.totalCount > 0}},[_c('i',{staticClass:\"icon-shopping_cart\",class:{'highlight': _vm.totalCount > 0}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalCount > 0),expression:\"totalCount > 0\"}],staticClass:\"num\"},[_vm._v(_vm._s(_vm.totalCount))])])]),_vm._v(\" \"),_c('div',{staticClass:\"price\",class:{'highlight': _vm.totalPrice > 0}},[_vm._v(\"￥\"+_vm._s(_vm.totalPrice))]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"另需配送费￥\"+_vm._s(_vm.deliveryPrice)+\"元\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"content-right\",on:{\"click\":_vm.pay}},[_c('div',{staticClass:\"pay\",class:[_vm.totalPrice >= _vm.minPrice ? 'enough' : 'not-enough']},[_vm._v(\"\\r\\n          \"+_vm._s(_vm.payDesc)+\"\\r\\n        \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"ball-container\"},_vm._l((_vm.balls),function(ball,index){return _c('div',{key:index},[_c('transition',{attrs:{\"name\":\"drop\"},on:{\"before-enter\":_vm.beforDrop,\"enter\":_vm.dropping,\"after-enter\":_vm.afterDrop}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(ball.show),expression:\"ball.show\"}],staticClass:\"ball\"},[_c('div',{staticClass:\"inner inner-hook\"})])])],1)})),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fold\"},on:{\"after-enter\":_vm.afterEnter}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listShow),expression:\"listShow\"}],staticClass:\"shopcart-list\"},[_c('div',{staticClass:\"list-header\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"购物车\")]),_vm._v(\" \"),_c('span',{staticClass:\"empty\",on:{\"click\":_vm.empty}},[_vm._v(\"清空\")])]),_vm._v(\" \"),_c('scroll',{ref:\"listContent\",staticClass:\"list-content\",attrs:{\"data\":_vm.selectFoods}},[_c('ul',_vm._l((_vm.selectFoods),function(food,index){return _c('li',{key:index,staticClass:\"food\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(food.name))]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\"+_vm._s(food.price*food.count))])]),_vm._v(\" \"),_c('div',{staticClass:\"cartcontrol-wrapper\"},[_c('control-btn',{attrs:{\"food\":food},on:{\"add\":_vm.addFood}})],1)])}))])],1)])],1),_vm._v(\" \"),_c('div',[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listShow),expression:\"listShow\"}],staticClass:\"list-mask\",on:{\"click\":function($event){_vm.listShow=!_vm.listShow}}})])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32b1772a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ShopCart/ShopCart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32b1772a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ShopCart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShopCart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShopCart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32b1772a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ShopCart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32b1772a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ShopCart/ShopCart.vue\n// module id = null\n// module chunks = ","<template>\r\n<transition name=\"move\">\r\n  <scroll :data=\"shownRatings\" class=\"food\" ref=\"food\" v-show=\"showFlag\">\r\n    <div>\r\n      <div class=\"image-header\">\r\n        <img :src=\"food.image\">\r\n        <div class=\"back\" @click=\"hide\">\r\n          <i class=\"icon-arrow_lift\"></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"content\">\r\n        <h2 class=\"title\">{{ food.name }}</h2>\r\n        <div class=\"detail\">\r\n          <span class=\"sell-count\">月售{{ food.sellCount }}份</span>\r\n          <span class=\"rating\">好评率{{ food.rating }}%</span>\r\n        </div>\r\n        <div class=\"price\">\r\n          <span class=\"now\">￥{{ food.price }}</span>\r\n          <span class=\"old\" v-show=\"food.oldPrice\">￥{{ food.oldPrice }}</span>\r\n        </div>\r\n        <div class=\"control-wrapper\">\r\n          <control-btn :food=\"food\" @add=\"addFood\"></control-btn>\r\n        </div>\r\n        <transition name=\"fade\">\r\n          <div class=\"buy\"\r\n              v-show=\"!food.count || food.count===0\"\r\n              @click.stop.prevent=\"addFirst\">\r\n            加入购物车\r\n          </div>\r\n        </transition>\r\n      </div>\r\n      <split v-show=\"food.info\"></split>\r\n      <div class=\"info\" v-if=\"food.info\">\r\n        <h1 class=\"title\">商品信息</h1>\r\n        <p class=\"text\">{{ food.info }}</p>\r\n      </div>\r\n      <split></split>\r\n      <div class=\"rating\">\r\n        <h2 class=\"title\">商品评价</h2>\r\n        <ratingselect @select=\"selectRating\"\r\n                      @toggle=\"toggleContent\"\r\n                      :selectType=\"selectType\"\r\n                      :onlyContent=\"onlyContent\"\r\n                      :desc=\"desc\"\r\n                      :ratings=\"food.ratings\"\r\n        ></ratingselect>\r\n        <div class=\"rating-wrapper\">\r\n          <ul>\r\n            <li class=\"rating-item border-1px\"\r\n                v-for=\"(rating, index) in shownRatings\" :key=\"index\"\r\n            >\r\n              <div class=\"user\">\r\n                <span class=\"name\">{{ rating.username }}</span>\r\n                <img class=\"avatar\" :src=\"rating.avatar\" width=\"12\" height=\"12\">\r\n              </div>\r\n              <div class=\"time\">{{ rating.rateTime | formatDate }}</div>\r\n              <p class=\"text\">\r\n                <span :class=\"[rating.rateType===0 ? 'icon-thumb_up' : 'icon-thumb_down']\"></span>{{ rating.text}}\r\n              </p>\r\n            </li>\r\n          </ul>\r\n          <div class=\"no-rating\" v-show=\"!food.ratings || !food.ratings.length\">暂无评价</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </scroll>\r\n</transition>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport ControlBtn from 'components/ControlBtn/ControlBtn'\r\nimport ratingselect from 'base/ratingselect/ratingselect'\r\nimport Split from 'base/Split/Split'\r\nimport Scroll from 'base/Scroll/Scroll'\r\nimport { formatDate } from 'common/js/util'\r\n\r\nconst ALL = 2\r\n\r\nexport default {\r\n  props: {\r\n    food: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          ratings: []\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showFlag: false,\r\n      selectType: ALL,\r\n      onlyContent: true,\r\n      desc: {\r\n        all: '全部',\r\n        positive: '推荐',\r\n        negative: '吐槽'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    shownRatings() {\r\n      return this.food.ratings ? this.food.ratings.filter((rating) => {\r\n        return this.needShow(rating.rateType, rating.text)\r\n      }) : []\r\n    }\r\n  },\r\n  methods: {\r\n    addFood(e) {\r\n      this.$emit('add', e)\r\n    },\r\n    needShow(type, text) {\r\n      if (this.onlyContent && !text) {\r\n        return false\r\n      }\r\n      if (this.selectType !== ALL && this.selectType !== type) {\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    selectRating(type) {\r\n      this.selectType = type\r\n      this.$refs.food.refresh()\r\n    },\r\n    toggleContent() {\r\n      this.onlyContent = !this.onlyContent\r\n      this.$refs.food.refresh()\r\n    },\r\n    hide() {\r\n      this.showFlag = false\r\n    },\r\n    show() {\r\n      this.showFlag = true\r\n      this.selectType = ALL\r\n      this.onlyContent = true\r\n      this.$nextTick(() => {\r\n        this.$refs.food.refresh()\r\n      })\r\n    },\r\n    addFirst(e) {\r\n      Vue.set(this.food, 'count', 1)\r\n      this.$emit('add', e.target)\r\n    }\r\n  },\r\n  filters: {\r\n    formatDate(val) {\r\n      return formatDate(new Date(val), 'yyyy-MM-dd hh:mm')\r\n    }\r\n  },\r\n  components: {\r\n    ControlBtn,\r\n    Split,\r\n    ratingselect,\r\n    Scroll\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  @import \"../../common/stylus/mixin.styl\"\r\n\r\n  .food\r\n    position: fixed\r\n    left: 0\r\n    top: 0\r\n    bottom: 48px\r\n    z-index: 30\r\n    width: 100%\r\n    background: #fff\r\n    transform: translate3d(0, 0, 0)\r\n    &.move-enter-active, &.move-leave-active\r\n      transition: all 0.2s linear\r\n    &.move-enter, &.move-leave-active\r\n      transform: translate3d(100%, 0, 0)\r\n    .image-header\r\n      position: relative\r\n      width: 100%\r\n      height: 0\r\n      padding-top: 100%\r\n      img\r\n        position: absolute\r\n        top: 0\r\n        left: 0\r\n        width: 100%\r\n        height: 100%\r\n      .back\r\n        position: absolute\r\n        top: 10px\r\n        left: 0\r\n        .icon-arrow_lift\r\n          display: block\r\n          padding: 10px\r\n          font-size: 20px\r\n          color: #fff\r\n\r\n    .content\r\n      position: relative\r\n      padding: 18px\r\n      .title\r\n        line-height: 14px\r\n        margin-bottom: 8px\r\n        font-size: 14px\r\n        font-weight: 700\r\n        color: rgb(7, 17, 27)\r\n      .detail\r\n        margin-bottom: 18px\r\n        line-height: 10px\r\n        height: 10px\r\n        font-size: 0\r\n        .sell-count, .rating\r\n          font-size: 10px\r\n          color: rgb(147, 153, 159)\r\n        .sell-count\r\n          margin-right: 12px\r\n      .price\r\n        font-weight: 700\r\n        line-height: 24px\r\n        .now\r\n          margin-right: 8px\r\n          font-size: 14px\r\n          color: rgb(240, 20, 20)\r\n        .old\r\n          text-decoration: line-through\r\n          font-size: 10px\r\n          color: rgb(147, 153, 159)\r\n      .control-wrapper\r\n        position: absolute\r\n        right: 12px\r\n        bottom: 12px\r\n      .buy\r\n        position: absolute\r\n        right: 18px\r\n        bottom: 18px\r\n        z-index: 10\r\n        height: 24px\r\n        line-height: 24px\r\n        padding: 0 12px\r\n        box-sizing: border-box\r\n        border-radius: 12px\r\n        font-size: 10px\r\n        color: #fff\r\n        background: rgb(0, 160, 220)\r\n        opacity: 1\r\n        &.fade-enter-active, &.fade-leave-active\r\n          transition: all 0.2s\r\n        &.fade-enter, &.fade-leave-active\r\n          opacity: 0\r\n          z-index: -1\r\n    .info\r\n      padding: 18px\r\n      .title\r\n        line-height: 14px\r\n        margin-bottom: 6px\r\n        font-size: 14px\r\n        color: rgb(7, 17, 27)\r\n      .text\r\n        line-height: 24px\r\n        padding: 0 8px\r\n        font-size: 12px\r\n        color: rgb(77, 85, 93)\r\n    .rating\r\n      padding-top: 18px\r\n      .title\r\n        line-height: 14px\r\n        margin-left: 18px\r\n        font-size: 14px\r\n        color: rgb(7, 17, 27)\r\n      .rating-wrapper\r\n        padding: 0 18px\r\n        .rating-item\r\n          position: relative\r\n          padding: 16px 0\r\n          border-1px(rgba(7, 17, 27, 0.1))\r\n          .user\r\n            position: absolute\r\n            right: 0\r\n            top: 16px\r\n            line-height: 12px\r\n            font-size: 0\r\n            .name\r\n              display: inline-block\r\n              margin-right: 6px\r\n              vertical-align: top\r\n              font-size: 10px\r\n              color: rgb(147, 153, 159)\r\n            .avatar\r\n              border-radius: 50%\r\n          .time\r\n            margin-bottom: 6px\r\n            line-height: 12px\r\n            font-size: 10px\r\n            color: rgb(147, 153, 159)\r\n          .text\r\n            line-height: 16px\r\n            font-size: 12px\r\n            color: rgb(7, 17, 27)\r\n            .icon-thumb_up, .icon-thumb_down\r\n              margin-right: 4px\r\n              line-height: 16px\r\n              font-size: 12px\r\n            .icon-thumb_up\r\n              color: rgb(0, 160, 220)\r\n            .icon-thumb_down\r\n              color: rgb(147, 153, 159)\r\n\r\n        .no-rating\r\n          padding: 16px 0\r\n          font-size: 12px\r\n          color: rgb(147, 153, 159)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Food/Food.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"move\"}},[_c('scroll',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],ref:\"food\",staticClass:\"food\",attrs:{\"data\":_vm.shownRatings}},[_c('div',[_c('div',{staticClass:\"image-header\"},[_c('img',{attrs:{\"src\":_vm.food.image}}),_vm._v(\" \"),_c('div',{staticClass:\"back\",on:{\"click\":_vm.hide}},[_c('i',{staticClass:\"icon-arrow_lift\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.food.name))]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('span',{staticClass:\"sell-count\"},[_vm._v(\"月售\"+_vm._s(_vm.food.sellCount)+\"份\")]),_vm._v(\" \"),_c('span',{staticClass:\"rating\"},[_vm._v(\"好评率\"+_vm._s(_vm.food.rating)+\"%\")])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"now\"},[_vm._v(\"￥\"+_vm._s(_vm.food.price))]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.oldPrice),expression:\"food.oldPrice\"}],staticClass:\"old\"},[_vm._v(\"￥\"+_vm._s(_vm.food.oldPrice))])]),_vm._v(\" \"),_c('div',{staticClass:\"control-wrapper\"},[_c('control-btn',{attrs:{\"food\":_vm.food},on:{\"add\":_vm.addFood}})],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.food.count || _vm.food.count===0),expression:\"!food.count || food.count===0\"}],staticClass:\"buy\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFirst($event)}}},[_vm._v(\"\\r\\n            加入购物车\\r\\n          \")])])],1),_vm._v(\" \"),_c('split',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.info),expression:\"food.info\"}]}),_vm._v(\" \"),(_vm.food.info)?_c('div',{staticClass:\"info\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"商品信息\")]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.food.info))])]):_vm._e(),_vm._v(\" \"),_c('split'),_vm._v(\" \"),_c('div',{staticClass:\"rating\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"商品评价\")]),_vm._v(\" \"),_c('ratingselect',{attrs:{\"selectType\":_vm.selectType,\"onlyContent\":_vm.onlyContent,\"desc\":_vm.desc,\"ratings\":_vm.food.ratings},on:{\"select\":_vm.selectRating,\"toggle\":_vm.toggleContent}}),_vm._v(\" \"),_c('div',{staticClass:\"rating-wrapper\"},[_c('ul',_vm._l((_vm.shownRatings),function(rating,index){return _c('li',{key:index,staticClass:\"rating-item border-1px\"},[_c('div',{staticClass:\"user\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(rating.username))]),_vm._v(\" \"),_c('img',{staticClass:\"avatar\",attrs:{\"src\":rating.avatar,\"width\":\"12\",\"height\":\"12\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(rating.rateTime)))]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_c('span',{class:[rating.rateType===0 ? 'icon-thumb_up' : 'icon-thumb_down']}),_vm._v(_vm._s(rating.text)+\"\\r\\n              \")])])})),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.food.ratings || !_vm.food.ratings.length),expression:\"!food.ratings || !food.ratings.length\"}],staticClass:\"no-rating\"},[_vm._v(\"暂无评价\")])])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a8cd51c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Food/Food.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a8cd51c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Food.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Food.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Food.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a8cd51c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Food.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Food/Food.vue\n// module id = null\n// module chunks = ","<template>\r\n<div>\r\n  <div class=\"goods\">\r\n    <scroll class=\"menu\"\r\n            :data=\"goods\"\r\n            ref=\"menuScroll\"\r\n    >\r\n      <ul>\r\n        <li class=\"menu-item\"\r\n            v-for=\"(menu, index) in goods\" :key=\"index\"\r\n            :class=\"{'current':currentIndex===index}\"\r\n            ref=\"menuItem\"\r\n            @click=\"selectMenu(index)\"\r\n        >\r\n          <p class=\"text border-1px\">\r\n            <span class=\"icon\"\r\n                  v-if=\"menu.type > 0\"\r\n                  :class=\"clsArr[menu.type]\">\r\n            </span>{{ menu.name }}\r\n          </p>\r\n        </li>\r\n      </ul>\r\n    </scroll>\r\n    <scroll class=\"goods-list\"\r\n            ref=\"foodScroll\"\r\n            :data=\"goods\"\r\n            :listenScroll=\"true\"\r\n            :probeType=\"3\"\r\n            @scroll=\"foodListScroll\"\r\n    >\r\n      <ul>\r\n        <li class=\"food-list\"\r\n            v-for=\"(item, index) in goods\" :key=\"index\"\r\n            ref=\"foodList\"\r\n        >\r\n          <h1 class=\"title\">{{ item.name }}</h1>\r\n          <ul>\r\n            <li class=\"food-item border-1px\"\r\n                v-for=\"(food, index1) in item.foods\" :key=\"index1\"\r\n                @click=\"selectFood(food, $event)\"\r\n            >\r\n              <div class=\"icon\">\r\n                <img :src=\"food.icon\" width=\"57\" height=\"57\">\r\n              </div>\r\n              <div class=\"content\">\r\n                <h2 class=\"name\">{{ food.name }}</h2>\r\n                <p class=\"desc\">{{ food.description }}</p>\r\n                <div class=\"extra\">\r\n                  <span class=\"count\">月售{{food.sellCount}}份</span><span>好评率{{food.rating}}%</span>\r\n                </div>\r\n                <div class=\"price\">\r\n                  <span class=\"now\">￥{{food.price}}</span><span class=\"old\"\r\n                                                                v-show=\"food.oldPrice\">￥{{food.oldPrice}}</span>\r\n                </div>\r\n                <div class=\"cartcontrol-wrapper\">\r\n                  <control-btn :food=\"food\" @add=\"addFood\"></control-btn>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </scroll>\r\n    <shop-cart :deliveryPrice=\"seller.deliveryPrice\"\r\n               :minPrice=\"seller.minPrice\"\r\n               :selectFoods=\"selectFoods\"\r\n               ref=\"shopCart\"\r\n    ></shop-cart>\r\n  </div>\r\n  <food @add=\"addFood\" :food=\"selectedFood\" ref=\"food\"></food>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Scroll from 'base/Scroll/Scroll'\r\nimport ShopCart from 'components/ShopCart/ShopCart'\r\nimport ControlBtn from 'components/ControlBtn/ControlBtn'\r\nimport Food from 'components/Food/Food'\r\nimport { getGoods, ERR_OK } from 'api/api'\r\nimport { debounce } from 'common/js/util'\r\n\r\nexport default {\r\n  props: {\r\n    seller: {\r\n      type: Object\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      goods: [],\r\n      listHeight: [],\r\n      scrollY: 0,\r\n      selectedFood: {}\r\n    }\r\n  },\r\n  created() {\r\n    this.clsArr = ['decrease', 'discount', 'special', 'invoice', 'guarantee']\r\n\r\n    getGoods().then((res) => {\r\n      if (res.errno === ERR_OK) {\r\n        this.goods = res.data\r\n        this.$nextTick(() => {\r\n          this._calcHeight()\r\n        })\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    selectFood(food, ev) {\r\n      console.log(food, ev)\r\n      this.selectedFood = food\r\n      this.$refs.food.show()\r\n    },\r\n    addFood(element) {\r\n      this.$nextTick(() => {\r\n        this.$refs.shopCart.drop(element)\r\n        this.$refs.shopCart.scaleSpring()\r\n      })\r\n    },\r\n    selectMenu(index) {\r\n      let height = this.listHeight[index]\r\n      console.log(height)\r\n      this._scrollToFood(index)\r\n    },\r\n    foodListScroll(pos) {\r\n      this.scrollY = pos.y\r\n    },\r\n    _calcHeight() {\r\n      let height = 0\r\n      let oList = this.$refs.foodList\r\n      console.log(oList)\r\n      this.listHeight.push(height)\r\n      for (let i = 0; i < oList.length; i++) {\r\n        this.listHeight.push(height += oList[i].clientHeight)\r\n      }\r\n    },\r\n    _scrollToFood: function(index) {\r\n      this.$refs.foodScroll.scrollToElement(this.$refs.foodList[index], 300)\r\n    },\r\n    _scrollToMenu: debounce(function(index) {\r\n      this.$refs.menuScroll.scrollToElement(this.$refs.menuItem[index], 300, 0, true)\r\n    }, 40)\r\n  },\r\n  activated() {\r\n    this.$refs.foodScroll.refresh()\r\n  },\r\n  computed: {\r\n    currentIndex() {\r\n      if (this.scrollY >= 0) return 0\r\n      for (let i = 0; i < this.listHeight.length; i++) {\r\n        let height1 = this.listHeight[i]\r\n        let height2 = this.listHeight[i + 1]\r\n        if (!height2 || (-this.scrollY >= height1 && -this.scrollY < height2)) {\r\n          this._scrollToMenu(i)\r\n          console.log(i, this.scrollY)\r\n          return i\r\n        }\r\n      }\r\n      return 0\r\n    },\r\n    selectFoods() {\r\n      let foodArr = []\r\n      this.goods.forEach((good) => {\r\n        good.foods.forEach((item) => {\r\n          item.count && foodArr.push(item)\r\n        })\r\n      })\r\n      return foodArr\r\n    }\r\n  },\r\n  components: {\r\n    Scroll,\r\n    ShopCart,\r\n    ControlBtn,\r\n    Food\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  @import '~common/stylus/mixin.styl';\r\n\r\n  .goods\r\n    position absolute\r\n    top 174px\r\n    bottom 46px\r\n    width 100%\r\n    overflow hidden\r\n    display flex\r\n    .menu\r\n      flex 0 0 80px\r\n      width 80px\r\n      background #f3f5f7\r\n      .menu-item\r\n        display: table\r\n        height: 54px\r\n        width: 56px\r\n        padding: 0 12px\r\n        line-height: 14px\r\n        &.current\r\n          position: relative\r\n          z-index: 10\r\n          margin-top: -1px\r\n          background: #fff\r\n          font-weight: 700\r\n          .text\r\n            border-none()\r\n        .text\r\n          display table-cell\r\n          vertical-align middle\r\n          width 56px\r\n          font-size 12px\r\n          border-1px(rgba(7, 17, 27, 0.1))\r\n        .icon\r\n          display inline-block\r\n          vertical-align top\r\n          width 12px\r\n          height 12px\r\n          margin-right 2px\r\n          background-size 12px 12px\r\n          background-repeat no-repeat\r\n          &.decrease\r\n            bg-image('decrease_3')\r\n          &.discount\r\n            bg-image('discount_3')\r\n          &.guarantee\r\n            bg-image('guarantee_3')\r\n          &.invoice\r\n            bg-image('invoice_3')\r\n          &.special\r\n            bg-image('special_3')\r\n    .goods-list\r\n      flex 1\r\n      .title\r\n        padding-left: 14px\r\n        height: 26px\r\n        line-height: 26px\r\n        border-left: 2px solid #d9dde1\r\n        font-size: 12px\r\n        color: rgb(147, 153, 159)\r\n        background: #f3f5f7\r\n      .food-item\r\n        display: flex\r\n        margin: 18px\r\n        padding-bottom: 18px\r\n        border-1px(rgba(7, 17, 27, 0.1))\r\n        &:last-child\r\n          border-none()\r\n          margin-bottom: 0\r\n        .icon\r\n          flex: 0 0 57px\r\n          margin-right: 10px\r\n        .content\r\n          flex: 1\r\n          .name\r\n            margin: 2px 0 8px 0\r\n            height: 14px\r\n            line-height: 14px\r\n            font-size: 14px\r\n            color: rgb(7, 17, 27)\r\n          .desc, .extra\r\n            line-height: 10px\r\n            font-size: 10px\r\n            color: rgb(147, 153, 159)\r\n          .desc\r\n            line-height: 12px\r\n            margin-bottom: 8px\r\n          .extra\r\n            .count\r\n              margin-right: 12px\r\n          .price\r\n            font-weight: 700\r\n            line-height: 24px\r\n            .now\r\n              margin-right: 8px\r\n              font-size: 14px\r\n              color: rgb(240, 20, 20)\r\n            .old\r\n              text-decoration: line-through\r\n              font-size: 10px\r\n              color: rgb(147, 153, 159)\r\n          .cartcontrol-wrapper\r\n            position: absolute\r\n            right: 0\r\n            bottom: 12px\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/TheGoods/TheGoods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"goods\"},[_c('scroll',{ref:\"menuScroll\",staticClass:\"menu\",attrs:{\"data\":_vm.goods}},[_c('ul',_vm._l((_vm.goods),function(menu,index){return _c('li',{key:index,ref:\"menuItem\",refInFor:true,staticClass:\"menu-item\",class:{'current':_vm.currentIndex===index},on:{\"click\":function($event){_vm.selectMenu(index)}}},[_c('p',{staticClass:\"text border-1px\"},[(menu.type > 0)?_c('span',{staticClass:\"icon\",class:_vm.clsArr[menu.type]}):_vm._e(),_vm._v(_vm._s(menu.name)+\"\\r\\n          \")])])}))]),_vm._v(\" \"),_c('scroll',{ref:\"foodScroll\",staticClass:\"goods-list\",attrs:{\"data\":_vm.goods,\"listenScroll\":true,\"probeType\":3},on:{\"scroll\":_vm.foodListScroll}},[_c('ul',_vm._l((_vm.goods),function(item,index){return _c('li',{key:index,ref:\"foodList\",refInFor:true,staticClass:\"food-list\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('ul',_vm._l((item.foods),function(food,index1){return _c('li',{key:index1,staticClass:\"food-item border-1px\",on:{\"click\":function($event){_vm.selectFood(food, $event)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{attrs:{\"src\":food.icon,\"width\":\"57\",\"height\":\"57\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h2',{staticClass:\"name\"},[_vm._v(_vm._s(food.name))]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(food.description))]),_vm._v(\" \"),_c('div',{staticClass:\"extra\"},[_c('span',{staticClass:\"count\"},[_vm._v(\"月售\"+_vm._s(food.sellCount)+\"份\")]),_c('span',[_vm._v(\"好评率\"+_vm._s(food.rating)+\"%\")])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"now\"},[_vm._v(\"￥\"+_vm._s(food.price))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(food.oldPrice),expression:\"food.oldPrice\"}],staticClass:\"old\"},[_vm._v(\"￥\"+_vm._s(food.oldPrice))])]),_vm._v(\" \"),_c('div',{staticClass:\"cartcontrol-wrapper\"},[_c('control-btn',{attrs:{\"food\":food},on:{\"add\":_vm.addFood}})],1)])])}))])}))]),_vm._v(\" \"),_c('shop-cart',{ref:\"shopCart\",attrs:{\"deliveryPrice\":_vm.seller.deliveryPrice,\"minPrice\":_vm.seller.minPrice,\"selectFoods\":_vm.selectFoods}})],1),_vm._v(\" \"),_c('food',{ref:\"food\",attrs:{\"food\":_vm.selectedFood},on:{\"add\":_vm.addFood}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d0cf551\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TheGoods/TheGoods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d0cf551\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TheGoods.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TheGoods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TheGoods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d0cf551\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TheGoods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0d0cf551\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TheGoods/TheGoods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}